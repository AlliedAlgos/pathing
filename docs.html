<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AlliedPath Docs â€” Allied Algorithms #58590</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Bebas+Neue&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --navy:        #040c18;
  --navy2:       #070e1c;
  --navy3:       #0a1929;
  --blue:        #3b9eff;
  --blue-dim:    #1e3a5f;
  --blue-bright: #7ecfff;
  --white:       #eef2ff;
  --gray:        #7a90a8;
  --gray-dim:    #3a4a5a;
  --gold:        #ffb830;
  --mono:        'Space Mono', monospace;
  --display:     'Bebas Neue', sans-serif;
  --body:        'DM Sans', sans-serif;
  --nav-h:       60px;
  --sidebar-w:   240px;
}

* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; }
body { background:var(--navy); color:var(--white); font-family:var(--body); overflow-x:hidden; }
::-webkit-scrollbar { width:4px; }
::-webkit-scrollbar-track { background:var(--navy); }
::-webkit-scrollbar-thumb { background:var(--blue-dim); border-radius:2px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV â•â•â• */
nav {
  position:fixed; top:0; left:0; right:0; z-index:200;
  display:flex; align-items:center; justify-content:space-between;
  padding:0 2.5rem; height:var(--nav-h);
  background:rgba(4,12,24,0.92);
  backdrop-filter:blur(16px);
  border-bottom:1px solid rgba(59,158,255,0.1);
}
.nav-logo { font-family:var(--display); font-size:1.45rem; letter-spacing:4px; text-decoration:none; line-height:1; }
.nav-logo .a { color:#fff; }
.nav-logo .b { color:var(--blue); }

.nav-center { display:flex; align-items:center; gap:2rem; }
.nav-links { display:flex; gap:1.75rem; list-style:none; }
.nav-links a {
  font-family:var(--mono); font-size:0.58rem; letter-spacing:2px;
  text-transform:uppercase; color:var(--gray); text-decoration:none; transition:color .18s;
}
.nav-links a:hover { color:var(--blue); }

/* Search bar in nav */
.nav-search {
  position:relative; display:flex; align-items:center;
}
.nav-search input {
  font-family:var(--mono); font-size:0.62rem; letter-spacing:1px;
  background:rgba(10,25,41,0.8); border:1px solid var(--blue-dim);
  color:var(--white); padding:7px 12px 7px 34px;
  border-radius:999px; outline:none; width:210px;
  transition:all .2s;
}
.nav-search input::placeholder { color:var(--gray-dim); }
.nav-search input:focus { border-color:var(--blue); width:260px; background:rgba(10,25,41,1); }
.nav-search-icon {
  position:absolute; left:11px; pointer-events:none;
  color:var(--gray-dim); font-size:.75rem;
}

/* Search dropdown */
#search-results {
  display:none; position:absolute; top:calc(100% + 8px); left:0;
  width:320px; background:var(--navy2);
  border:1px solid var(--blue-dim); border-radius:12px;
  padding:.5rem; z-index:300; max-height:360px; overflow-y:auto;
}
#search-results.visible { display:block; }
.sr-item {
  padding:.6rem .85rem; border-radius:8px; cursor:pointer;
  transition:background .15s;
}
.sr-item:hover { background:var(--navy3); }
.sr-item-title {
  font-family:var(--mono); font-size:.65rem; letter-spacing:1px;
  color:var(--blue-bright); margin-bottom:2px;
}
.sr-item-desc { font-size:.8rem; color:var(--gray); }
.sr-item-tag {
  display:inline-block; font-family:var(--mono); font-size:.5rem;
  letter-spacing:1.5px; text-transform:uppercase; color:var(--blue-dim);
  border:1px solid var(--blue-dim); border-radius:3px; padding:1px 5px; margin-top:3px;
}
.sr-empty { padding:.75rem .85rem; font-size:.82rem; color:var(--gray); }
.sr-highlight { color:var(--blue); }

.nav-right { display:flex; align-items:center; gap:.75rem; }
.btn-open-path {
  font-family:var(--mono); font-size:.58rem; letter-spacing:1.5px;
  text-transform:uppercase; text-decoration:none;
  background:var(--blue); color:var(--navy);
  padding:7px 18px; border-radius:999px; font-weight:700;
  transition:all .18s; white-space:nowrap;
}
.btn-open-path:hover { background:var(--blue-bright); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HERO â•â•â• */
#hero {
  position:relative; min-height:100vh;
  display:flex; flex-direction:column;
  align-items:center; justify-content:center;
  overflow:hidden; padding:90px 2rem 5rem;
}
#hero-canvas { position:absolute; inset:0; width:100%; height:100%; opacity:.38; }
#hero::after {
  content:''; position:absolute; inset:0; pointer-events:none;
  background:radial-gradient(ellipse 90% 70% at 50% 50%, transparent 20%, var(--navy) 100%);
}

.hero-content {
  position:relative; z-index:2;
  text-align:center; display:flex; flex-direction:column; align-items:center; gap:1.5rem;
}
.hero-eyebrow {
  font-family:var(--mono); font-size:0.58rem; letter-spacing:4px; text-transform:uppercase;
  color:var(--blue); background:rgba(59,158,255,0.07); border:1px solid rgba(59,158,255,0.2);
  border-radius:999px; padding:6px 22px; animation:fadeUp .55s ease both;
}
.hero-title {
  font-family:var(--display); font-size:clamp(5rem,15vw,12rem);
  line-height:.88; letter-spacing:6px; animation:fadeUp .55s .1s ease both;
}
.hero-title .a { color:#fff; display:block; }
.hero-title .b {
  color:var(--blue); display:block;
  text-shadow:0 0 70px rgba(59,158,255,0.5),0 0 140px rgba(59,158,255,0.18);
}
.hero-sub {
  font-size:1.05rem; font-weight:300; color:var(--gray);
  max-width:500px; line-height:1.75; animation:fadeUp .55s .2s ease both;
}
.hero-sub strong { color:var(--blue-bright); font-weight:500; }
.hero-cta {
  display:flex; gap:1rem; flex-wrap:wrap; justify-content:center;
  animation:fadeUp .55s .3s ease both;
}
.btn-hero-primary {
  font-family:var(--mono); font-size:.62rem; letter-spacing:2px; text-transform:uppercase;
  text-decoration:none; background:var(--blue); color:var(--navy);
  padding:13px 30px; border-radius:999px; font-weight:700;
  transition:all .2s; box-shadow:0 0 24px rgba(59,158,255,0.35);
}
.btn-hero-primary:hover { background:var(--blue-bright); transform:translateY(-1px); }
.btn-hero-secondary {
  font-family:var(--mono); font-size:.62rem; letter-spacing:2px; text-transform:uppercase;
  text-decoration:none; border:1px solid var(--blue-dim); color:var(--blue);
  padding:13px 30px; border-radius:999px; transition:all .2s;
}
.btn-hero-secondary:hover { border-color:var(--blue); background:rgba(59,158,255,0.07); transform:translateY(-1px); }

.hero-credits {
  position:relative; z-index:2; margin-top:4rem;
  display:flex; flex-direction:column; align-items:center; gap:.5rem;
  animation:fadeUp .55s .5s ease both;
}
.credits-label { font-family:var(--mono); font-size:.46rem; letter-spacing:4px; color:var(--blue-dim); text-transform:uppercase; }
.credits-card {
  display:flex; align-items:center; gap:1rem;
  background:rgba(7,14,28,0.78); border:1px solid rgba(59,158,255,0.14);
  border-radius:999px; padding:10px 28px; backdrop-filter:blur(10px);
}
.credits-team { font-family:var(--display); font-size:1.05rem; letter-spacing:3px; color:#fff; }
.credits-num {
  font-family:var(--mono); font-size:.7rem; color:var(--blue);
  background:rgba(59,158,255,0.1); border:1px solid var(--blue-dim);
  border-radius:999px; padding:3px 12px;
}
.credits-div { width:1px; height:22px; background:var(--blue-dim); }
.credits-season { font-family:var(--mono); font-size:.56rem; letter-spacing:2px; color:var(--gray); }

.achievement-strip {
  position:relative; z-index:2; margin-top:1.75rem;
  display:flex; gap:.65rem; flex-wrap:wrap; justify-content:center;
  animation:fadeUp .55s .65s ease both;
}
.ach-pill {
  display:flex; align-items:center; gap:.45rem;
  background:rgba(255,184,48,0.05); border:1px solid rgba(255,184,48,0.22);
  border-radius:999px; padding:5px 15px;
}
.ach-text { font-family:var(--mono); font-size:.55rem; letter-spacing:1.5px; text-transform:uppercase; color:var(--gold); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DOCS LAYOUT â•â•â• */
/* Body layout after hero */
#docs-body {
  display:flex; position:relative;
  max-width:1280px; margin:0 auto; padding:0 1.5rem;
}

/* â”€â”€ LEFT SIDEBAR â”€â”€ */
#doc-sidebar {
  position:sticky; top:var(--nav-h); align-self:flex-start;
  width:var(--sidebar-w); min-width:var(--sidebar-w);
  height:calc(100vh - var(--nav-h));
  overflow-y:auto; padding:2rem 0 2rem 0;
  border-right:1px solid rgba(59,158,255,0.08);
  flex-shrink:0;
  display:none; /* hidden until past hero */
}
#doc-sidebar.visible { display:block; }

#doc-sidebar::-webkit-scrollbar { width:3px; }
#doc-sidebar::-webkit-scrollbar-thumb { background:var(--blue-dim); }

.sb-section { margin-bottom:.25rem; }

.sb-toggle {
  display:flex; align-items:center; justify-content:space-between;
  padding:.55rem 1rem; cursor:pointer; border-radius:8px;
  font-family:var(--mono); font-size:.6rem; letter-spacing:2px;
  text-transform:uppercase; color:var(--gray);
  user-select:none; transition:all .18s;
  border:none; background:transparent; width:100%; text-align:left;
}
.sb-toggle:hover { background:rgba(59,158,255,0.05); color:var(--white); }
.sb-toggle.open { color:var(--blue); }

.sb-arrow {
  width:14px; height:14px; flex-shrink:0;
  transition:transform .2s;
  fill:none; stroke:currentColor; stroke-width:2;
}
.sb-toggle.open .sb-arrow { transform:rotate(90deg); }

.sb-items {
  overflow:hidden; max-height:0;
  transition:max-height .25s ease;
  padding-left:.5rem;
}
.sb-items.open { max-height:500px; }

.sb-link {
  display:block; padding:.45rem 1rem;
  font-family:var(--body); font-size:.84rem; font-weight:300;
  color:var(--gray); text-decoration:none; border-radius:6px;
  border-left:2px solid transparent; transition:all .15s;
}
.sb-link:hover { color:var(--white); border-left-color:var(--blue-dim); }
.sb-link.active { color:var(--blue-bright); border-left-color:var(--blue); background:rgba(59,158,255,0.05); }

.sb-divider { height:1px; background:rgba(59,158,255,0.07); margin:.75rem 1rem; }

/* â”€â”€ MAIN CONTENT â”€â”€ */
#doc-content {
  flex:1; min-width:0;
  padding:4rem 3rem 6rem 3rem;
}

.section-wrap { max-width:760px; margin-bottom:5rem; scroll-margin-top:80px; }
.section-tag {
  font-family:var(--mono); font-size:.5rem; letter-spacing:4px;
  text-transform:uppercase; color:var(--blue); margin-bottom:.75rem;
  display:flex; align-items:center; gap:.5rem;
}
.section-tag::before { content:''; display:inline-block; width:18px; height:1px; background:var(--blue); }
.section-title { font-family:var(--display); font-size:clamp(2.2rem,4.5vw,3.5rem); letter-spacing:4px; line-height:1; margin-bottom:1.1rem; }
.section-desc { color:var(--gray); font-size:.95rem; line-height:1.75; max-width:560px; font-weight:300; }

/* FEATURE CARDS */
.feature-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:.85rem; margin-top:2.5rem; }
.feature-card {
  background:var(--navy2); border:1px solid var(--blue-dim);
  border-radius:14px; padding:1.35rem; transition:all .22s; position:relative; overflow:hidden;
}
.feature-card::before {
  content:''; position:absolute; inset:0; pointer-events:none;
  background:radial-gradient(circle at top left,rgba(59,158,255,0.05),transparent 70%);
}
.feature-card:hover { border-color:var(--blue); transform:translateY(-2px); box-shadow:0 6px 28px rgba(59,158,255,0.1); }
.fc-label { font-family:var(--mono); font-size:.58rem; letter-spacing:2px; text-transform:uppercase; color:var(--blue); margin-bottom:.4rem; }
.fc-desc { font-size:.87rem; color:var(--gray); line-height:1.6; font-weight:300; }

/* STEPS */
.steps { display:flex; flex-direction:column; margin-top:2.5rem; }
.step { display:flex; gap:1.75rem; padding-bottom:2rem; }
.step-line { display:flex; flex-direction:column; align-items:center; flex-shrink:0; }
.step-num {
  width:38px; height:38px; border-radius:50%;
  background:var(--navy3); border:1.5px solid var(--blue);
  display:flex; align-items:center; justify-content:center;
  font-family:var(--mono); font-size:.68rem; font-weight:700; color:var(--blue);
}
.step-connector { flex:1; width:1px; background:linear-gradient(to bottom,var(--blue-dim),transparent); margin-top:4px; min-height:24px; }
.step-body { padding-top:.35rem; flex:1; }
.step-title { font-family:var(--mono); font-size:.75rem; letter-spacing:1px; color:var(--white); margin-bottom:.4rem; }
.step-desc { font-size:.9rem; color:var(--gray); line-height:1.65; font-weight:300; }
.step-note {
  margin-top:.5rem; font-family:var(--mono); font-size:.6rem; color:var(--blue);
  background:rgba(59,158,255,0.06); border-left:2px solid var(--blue);
  padding:5px 10px; border-radius:0 5px 5px 0;
}

/* REF TABLE */
.ref-table { margin-top:2rem; display:flex; flex-direction:column; gap:.6rem; }
.ref-row {
  display:grid; grid-template-columns:1.2fr .9fr 1.8fr;
  gap:1rem; background:var(--navy2); border:1px solid rgba(59,158,255,0.09);
  border-radius:10px; padding:.9rem 1.1rem; transition:border-color .18s;
}
.ref-row:hover { border-color:var(--blue-dim); }
.ref-row.header { background:transparent; border-color:transparent; padding-bottom:.2rem; }
.ref-label { font-family:var(--mono); font-size:.55rem; letter-spacing:2px; color:var(--gray-dim); text-transform:uppercase; }
.ref-field { font-family:var(--mono); font-size:.73rem; color:var(--blue-bright); }
.ref-type {
  font-family:var(--mono); font-size:.6rem; color:#ffe066;
  background:rgba(255,224,102,0.06); padding:2px 7px; border-radius:4px; display:inline-block;
}
.ref-note { font-size:.82rem; color:var(--gray); font-weight:300; line-height:1.5; }

/* PLAYBACK GRID */
.pb-grid { display:grid; grid-template-columns:1fr 1fr; gap:.85rem; margin-top:2.5rem; }
@media(max-width:580px){ .pb-grid { grid-template-columns:1fr; } }
.pb-card {
  background:var(--navy2); border:1px solid rgba(59,158,255,0.1);
  border-radius:12px; padding:1.1rem 1.3rem; transition:border-color .18s;
}
.pb-card:hover { border-color:var(--blue-dim); }
.pb-name { font-family:var(--mono); font-size:.62rem; letter-spacing:2px; text-transform:uppercase; color:var(--blue-bright); margin-bottom:.35rem; }
.pb-desc { font-size:.84rem; color:var(--gray); font-weight:300; line-height:1.55; }

/* DIVIDER */
.divider { height:1px; background:linear-gradient(to right,transparent,rgba(59,158,255,0.18),transparent); margin:0 3rem; }

/* TEAM SECTION */
.team-hero {
  background:var(--navy2); border:1px solid var(--blue-dim);
  border-radius:24px; overflow:hidden; padding:4rem 3rem; text-align:center;
  position:relative;
}
.team-hero::before {
  content:''; position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(ellipse 55% 45% at 25% 50%,rgba(59,158,255,0.07),transparent),
    radial-gradient(ellipse 55% 45% at 75% 50%,rgba(59,158,255,0.05),transparent);
}
.team-hero::after {
  content:''; position:absolute; inset:0; pointer-events:none;
  background-image:radial-gradient(circle,rgba(59,158,255,0.12) 1px,transparent 1px);
  background-size:26px 26px; opacity:.4;
}
.team-inner { position:relative; z-index:1; display:flex; flex-direction:column; align-items:center; gap:1.5rem; }
.team-badge {
  display:inline-flex; align-items:center; gap:.85rem;
  background:rgba(59,158,255,0.05); border:1px solid rgba(59,158,255,0.18);
  border-radius:999px; padding:9px 24px;
}
.team-badge-name { font-family:var(--display); font-size:1.1rem; letter-spacing:4px; color:#fff; }
.team-badge-num {
  font-family:var(--mono); font-size:.7rem; color:var(--blue);
  background:rgba(59,158,255,0.14); border-radius:999px; padding:2px 12px;
}
.team-title { font-family:var(--display); font-size:clamp(2.5rem,6vw,5rem); letter-spacing:5px; line-height:.92; }
.team-title .a { color:#fff; }
.team-title .b { color:var(--blue); }
.team-desc { font-size:.97rem; color:var(--gray); font-weight:300; max-width:500px; line-height:1.75; }

.trophies { display:flex; gap:1rem; flex-wrap:wrap; justify-content:center; }
.trophy {
  display:flex; flex-direction:column; align-items:center; gap:.4rem;
  background:rgba(255,184,48,0.05); border:1px solid rgba(255,184,48,0.18);
  border-radius:16px; padding:1.1rem 1.75rem; min-width:120px; transition:all .22s;
}
.trophy:hover { border-color:rgba(255,184,48,0.4); transform:translateY(-2px); }
.trophy-val { font-family:var(--display); font-size:1.9rem; letter-spacing:2px; color:var(--gold); line-height:1; }
.trophy-lbl { font-family:var(--mono); font-size:.45rem; letter-spacing:2.5px; color:var(--gray); text-transform:uppercase; text-align:center; }
.team-url {
  font-family:var(--mono); font-size:.62rem; letter-spacing:2px;
  color:var(--blue); text-decoration:none; border-bottom:1px solid var(--blue-dim); transition:border-color .18s;
}
.team-url:hover { border-color:var(--blue); }
.team-season { font-family:var(--mono); font-size:.52rem; letter-spacing:3px; color:var(--blue-dim); text-transform:uppercase; }

/* FOOTER */
footer {
  border-top:1px solid rgba(59,158,255,0.08);
  padding:2.5rem; text-align:center;
  display:flex; flex-direction:column; align-items:center; gap:.65rem;
}
.footer-logo { font-family:var(--display); font-size:1.3rem; letter-spacing:4px; }
.footer-logo .a { color:#fff; }
.footer-logo .b { color:var(--blue); }
.footer-sub { font-family:var(--mono); font-size:.5rem; letter-spacing:3px; color:var(--blue-dim); text-transform:uppercase; }
.footer-link { font-family:var(--mono); font-size:.52rem; color:var(--blue); text-decoration:none; letter-spacing:2px; }
.footer-link:hover { text-decoration:underline; }

/* CODE */
code {
  font-family:var(--mono); font-size:.78em;
  background:rgba(59,158,255,0.07); border:1px solid var(--blue-dim);
  border-radius:4px; padding:1px 6px; color:var(--blue-bright);
}

/* ANIMATIONS */
@keyframes fadeUp { from{opacity:0;transform:translateY(18px)} to{opacity:1;transform:translateY(0)} }
.scroll-reveal { opacity:0; transform:translateY(20px); transition:opacity .6s ease,transform .6s ease; }
.scroll-reveal.visible { opacity:1; transform:translateY(0); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MOBILE / PHONE â•â•â• */
@media (max-width: 768px) {

  /* â”€â”€ Nav â”€â”€ */
  nav { padding: 0 1.25rem; height: 56px; }
  .nav-center { display: none; }
  .nav-right { display: none; }

  /* Hamburger button */
  #hamburger {
    display: flex; flex-direction: column; justify-content: center;
    gap: 5px; cursor: pointer; padding: 6px; border: none;
    background: transparent; z-index: 300;
  }
  #hamburger span {
    display: block; width: 22px; height: 2px;
    background: var(--blue); border-radius: 2px;
    transition: all .25s;
  }
  #hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
  #hamburger.open span:nth-child(2) { opacity: 0; transform: scaleX(0); }
  #hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

  /* Mobile drawer */
  #mobile-drawer {
    position: fixed; top: 56px; left: 0; right: 0; bottom: 0;
    background: rgba(4,12,24,0.98); backdrop-filter: blur(20px);
    z-index: 200; display: flex; flex-direction: column;
    padding: 2rem 1.5rem; gap: 0;
    transform: translateX(100%); transition: transform .3s ease;
    overflow-y: auto;
  }
  #mobile-drawer.open { transform: translateX(0); }

  .mob-nav-link {
    display: block; padding: 1rem 0;
    font-family: var(--display); font-size: 2rem; letter-spacing: 4px;
    color: var(--white); text-decoration: none;
    border-bottom: 1px solid rgba(59,158,255,0.1);
    transition: color .18s;
  }
  .mob-nav-link:hover, .mob-nav-link:active { color: var(--blue); }

  .mob-nav-actions {
    margin-top: 2rem; display: flex; flex-direction: column; gap: .85rem;
  }
  .mob-btn-primary {
    font-family: var(--mono); font-size: .65rem; letter-spacing: 2px;
    text-transform: uppercase; text-decoration: none;
    background: var(--blue); color: var(--navy);
    padding: 14px; border-radius: 999px; font-weight: 700;
    text-align: center; transition: background .18s;
  }
  .mob-btn-primary:active { background: var(--blue-bright); }
  .mob-btn-secondary {
    font-family: var(--mono); font-size: .65rem; letter-spacing: 2px;
    text-transform: uppercase; text-decoration: none;
    border: 1px solid var(--blue-dim); color: var(--blue);
    padding: 14px; border-radius: 999px;
    text-align: center; transition: all .18s;
  }
  .mob-badge {
    font-family: var(--mono); font-size: .55rem; letter-spacing: 2px;
    text-transform: uppercase; color: var(--gold);
    background: rgba(255,184,48,0.06); border: 1px solid rgba(255,184,48,0.2);
    border-radius: 999px; padding: 8px 16px; text-align: center;
  }

  /* â”€â”€ Hero â”€â”€ */
  #hero { padding: 80px 1.25rem 3rem; min-height: 100svh; }
  .hero-title { font-size: clamp(4.5rem, 22vw, 7rem); }
  .hero-sub { font-size: .95rem; }
  .hero-cta { flex-direction: column; width: 100%; }
  .btn-hero-primary, .btn-hero-secondary { width: 100%; text-align: center; padding: 14px; }

  .credits-card {
    flex-wrap: wrap; justify-content: center; gap: .5rem;
    padding: 10px 16px; border-radius: 16px;
  }
  .credits-div { display: none; }
  .credits-season { display: none; }

  .achievement-strip { gap: .5rem; }
  .ach-pill { padding: 5px 12px; }
  .ach-text { font-size: .5rem; }

  /* â”€â”€ Docs layout â”€â”€ */
  #docs-body { flex-direction: column; padding: 0; }
  #doc-sidebar { display: none !important; }
  #doc-content { padding: 2rem 1.25rem 5rem; }

  /* â”€â”€ Section titles â”€â”€ */
  .section-title { font-size: clamp(2rem, 9vw, 3rem); }

  /* â”€â”€ Feature grid â”€â”€ */
  .feature-grid { grid-template-columns: 1fr; }

  /* â”€â”€ Steps â”€â”€ */
  .step { gap: 1rem; }
  .step-num { width: 32px; height: 32px; font-size: .62rem; flex-shrink: 0; }

  /* â”€â”€ Ref table â”€â”€ */
  .ref-row { grid-template-columns: 1fr 1fr; }
  .ref-row > :last-child { grid-column: 1 / -1; }
  .ref-row.header { display: none; }

  /* â”€â”€ Playback grid â”€â”€ */
  .pb-grid { grid-template-columns: 1fr; }

  /* â”€â”€ Team â”€â”€ */
  .team-hero { padding: 2.5rem 1.25rem; }
  .team-title { font-size: clamp(2.5rem, 10vw, 4rem); }
  .trophies { gap: .65rem; }
  .trophy { padding: .9rem 1.25rem; min-width: 100px; }
  .trophy-val { font-size: 1.5rem; }
  .team-desc { font-size: .88rem; }

  /* â”€â”€ Divider â”€â”€ */
  .divider { margin: 0 1.25rem; }

  /* â”€â”€ Bottom mobile nav â”€â”€ */
  #bottom-nav {
    display: flex; position: fixed; bottom: 0; left: 0; right: 0;
    background: rgba(4,12,24,0.95); backdrop-filter: blur(16px);
    border-top: 1px solid rgba(59,158,255,0.12);
    z-index: 150; padding: 8px 0 max(8px, env(safe-area-inset-bottom));
  }
  .bnav-item {
    flex: 1; display: flex; flex-direction: column;
    align-items: center; justify-content: center; gap: 3px;
    text-decoration: none; color: var(--gray);
    padding: 4px 0; transition: color .18s;
    -webkit-tap-highlight-color: transparent;
  }
  .bnav-item.active { color: var(--blue); }
  .bnav-icon { font-size: 1.1rem; line-height: 1; }
  .bnav-label { font-family: var(--mono); font-size: .42rem; letter-spacing: 1.5px; text-transform: uppercase; }

  /* Add bottom padding to content so bottom nav doesn't cover it */
  footer { padding-bottom: calc(2.5rem + 60px); }
}

/* Show hamburger only on mobile */
#hamburger { display: none; }
@media (max-width: 768px) { #hamburger { display: flex; } }

/* Hide bottom nav on desktop */
#bottom-nav { display: none; }
#mobile-drawer { display: none; }
@media (max-width: 768px) {
  #bottom-nav { display: flex; }
  #mobile-drawer { display: flex; }
}
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV â•â• -->
<nav>
  <a href="#" class="nav-logo"><span class="a">ALLIED</span><span class="b">PATH</span></a>

  <div class="nav-center">
    <ul class="nav-links">
      <li><a href="#overview">Overview</a></li>
      <li><a href="#getting-started">Guide</a></li>
      <li><a href="#reference">Reference</a></li>
      <li><a href="#playback">Playback</a></li>
      <li><a href="#team">Team</a></li>
    </ul>

    <!-- Search -->
    <div class="nav-search" id="search-wrap">
      <svg class="nav-search-icon" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="1.8" width="14" height="14">
        <circle cx="6.5" cy="6.5" r="5"/><path d="M11 11l3 3"/>
      </svg>
      <input type="text" id="search-input" placeholder="Search docs..." autocomplete="off" spellcheck="false">
      <div id="search-results"></div>
    </div>
  </div>

  <div class="nav-right">
    <a href="https://path.alliedalgos.org" target="_blank" class="btn-open-path">Open Path â†—</a>
  </div>

  <!-- Hamburger (mobile only) -->
  <button id="hamburger" aria-label="Menu">
    <span></span><span></span><span></span>
  </button>
</nav>

<!-- Mobile Drawer -->
<div id="mobile-drawer">
  <a class="mob-nav-link" href="#overview" onclick="closeMobileMenu()">Overview</a>
  <a class="mob-nav-link" href="#getting-started" onclick="closeMobileMenu()">Guide</a>
  <a class="mob-nav-link" href="#reference" onclick="closeMobileMenu()">Reference</a>
  <a class="mob-nav-link" href="#playback" onclick="closeMobileMenu()">Playback</a>
  <a class="mob-nav-link" href="#team" onclick="closeMobileMenu()">Team</a>
  <div class="mob-nav-actions">
    <div class="mob-badge">ğŸ† Worlds 2025â€“2026 Â· CT 1st</div>
    <a href="https://path.alliedalgos.org" target="_blank" class="mob-btn-primary">Open AlliedPath â†—</a>
    <a href="https://alliedalgos.org" target="_blank" class="mob-btn-secondary">alliedalgos.org â†—</a>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HERO â•â• -->
<section id="hero">
  <canvas id="hero-canvas"></canvas>

  <div class="hero-content">
    <div class="hero-eyebrow">FLL Path Planning Tool &nbsp;Â·&nbsp; Season 2025â€“2026</div>

    <div class="hero-title">
      <span class="a">ALLIED</span>
      <span class="b">PATH</span>
    </div>

    <p class="hero-sub">
      A browser-based <strong>autonomous path planner</strong> for FIRST LEGO League.
      Plot waypoints, configure headings, visualize trajectories, and simulate robot movement â€” all in a single file.
    </p>

    <div class="hero-cta">
      <a href="https://path.alliedalgos.org" target="_blank" class="btn-hero-primary">Open Path</a>
      <a href="#getting-started" class="btn-hero-secondary">Read the Docs</a>
    </div>
  </div>

  <div class="hero-credits">
    <div class="credits-label">Created by</div>
    <div class="credits-card">
      <div class="credits-team">ALLIED ALGORITHMS</div>
      <div class="credits-div"></div>
      <div class="credits-num">#58590</div>
      <div class="credits-div"></div>
      <div class="credits-season">alliedalgos.org</div>
    </div>
  </div>

  <div class="achievement-strip">
    <div class="ach-pill"><span class="ach-text">CT State Championship &mdash; 1st Place</span></div>
    <div class="ach-pill"><span class="ach-text">World Championship Qualifier</span></div>
    <div class="ach-pill"><span class="ach-text">FLL &middot; 2025â€“2026</span></div>
  </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• DOCS BODY â•â• -->
<div id="docs-body">

  <!-- LEFT SIDEBAR -->
  <aside id="doc-sidebar">

    <div class="sb-section">
      <button class="sb-toggle open" data-target="sb-overview">
        Overview
        <svg class="sb-arrow" viewBox="0 0 16 16"><path d="M6 4l4 4-4 4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <div class="sb-items open" id="sb-overview">
        <a class="sb-link" href="#overview">Introduction</a>
        <a class="sb-link" href="#overview">Key Features</a>
      </div>
    </div>

    <div class="sb-section">
      <button class="sb-toggle open" data-target="sb-guide">
        Getting Started
        <svg class="sb-arrow" viewBox="0 0 16 16"><path d="M6 4l4 4-4 4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <div class="sb-items open" id="sb-guide">
        <a class="sb-link" href="#getting-started">Opening the Tool</a>
        <a class="sb-link" href="#getting-started">Robot Configuration</a>
        <a class="sb-link" href="#getting-started">Placing Waypoints</a>
        <a class="sb-link" href="#getting-started">Editing Points</a>
        <a class="sb-link" href="#getting-started">Setting Headings</a>
        <a class="sb-link" href="#getting-started">Saving Your Path</a>
      </div>
    </div>

    <div class="sb-divider"></div>

    <div class="sb-section">
      <button class="sb-toggle open" data-target="sb-ref">
        Field Reference
        <svg class="sb-arrow" viewBox="0 0 16 16"><path d="M6 4l4 4-4 4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <div class="sb-items open" id="sb-ref">
        <a class="sb-link" href="#reference">Coordinate System</a>
        <a class="sb-link" href="#reference">Field Dimensions</a>
        <a class="sb-link" href="#reference">Heading Convention</a>
        <a class="sb-link" href="#reference">Sidebar Fields</a>
      </div>
    </div>

    <div class="sb-section">
      <button class="sb-toggle open" data-target="sb-playback">
        Playback
        <svg class="sb-arrow" viewBox="0 0 16 16"><path d="M6 4l4 4-4 4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <div class="sb-items open" id="sb-playback">
        <a class="sb-link" href="#playback">Play / Pause</a>
        <a class="sb-link" href="#playback">Progress Slider</a>
        <a class="sb-link" href="#playback">Speed Control</a>
        <a class="sb-link" href="#playback">Live Telemetry</a>
      </div>
    </div>

    <div class="sb-divider"></div>

    <div class="sb-section">
      <button class="sb-toggle" data-target="sb-team">
        Team
        <svg class="sb-arrow" viewBox="0 0 16 16"><path d="M6 4l4 4-4 4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </button>
      <div class="sb-items" id="sb-team">
        <a class="sb-link" href="#team">Allied Algorithms</a>
        <a class="sb-link" href="https://alliedalgos.org" target="_blank">alliedalgos.org â†—</a>
      </div>
    </div>

  </aside>

  <!-- MAIN CONTENT -->
  <main id="doc-content">

    <!-- OVERVIEW -->
    <div class="section-wrap scroll-reveal" id="overview">
      <div class="section-tag">01 â€” Overview</div>
      <h2 class="section-title">What is <span style="color:var(--blue)">AlliedPath</span>?</h2>
      <p class="section-desc">AlliedPath is a browser-based path planning tool built in-house by Team Allied Algorithms for FLL autonomous mission runs. Map your robot's waypoints on a coordinate grid, measure real distances in inches, and preview the full run before competition day.</p>

      <div class="feature-grid scroll-reveal">
        <div class="feature-card">
          <div class="fc-label">Waypoint Plotting</div>
          <div class="fc-desc">Click any cell on the 93Ã—45 inch grid to drop a waypoint. Edit coordinates and heading inline. Click again to remove.</div>
        </div>
        <div class="feature-card">
          <div class="fc-label">Inch-Accurate Grid</div>
          <div class="fc-desc">Each cell equals one inch. Axis labels display real measurements so paths map directly to the physical FLL mat.</div>
        </div>
        <div class="feature-card">
          <div class="fc-label">Turn Angles</div>
          <div class="fc-desc">Signed turn angles display at every intermediate waypoint. Positive values indicate left turns, negative values indicate right turns.</div>
        </div>
        <div class="feature-card">
          <div class="fc-label">Per-Point Headings</div>
          <div class="fc-desc">Each waypoint stores an editable heading in degrees. An arrow renders on the canvas showing the robot's facing at that point.</div>
        </div>
        <div class="feature-card">
          <div class="fc-label">Robot Simulation</div>
          <div class="fc-desc">Configure robot width and length in inches. The rectangle follows the path, rotating to match segment heading in real time.</div>
        </div>
        <div class="feature-card">
          <div class="fc-label">Save & Share</div>
          <div class="fc-desc">Download the tool as a single self-contained HTML file with all waypoints embedded. No server or login required.</div>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- GETTING STARTED -->
    <div class="section-wrap scroll-reveal" id="getting-started">
      <div class="section-tag">02 â€” Guide</div>
      <h2 class="section-title">Getting <span style="color:var(--blue)">Started</span></h2>
      <p class="section-desc">From a blank grid to a complete autonomous path in a few minutes.</p>

      <div class="steps">
        <div class="step scroll-reveal">
          <div class="step-line"><div class="step-num">01</div><div class="step-connector"></div></div>
          <div class="step-body">
            <div class="step-title">Open the Tool</div>
            <div class="step-desc">Navigate to <code>path.alliedalgos.org</code> or open <code>alliedpath.html</code> locally in any modern browser. The tool runs entirely client-side â€” no installation required.</div>
          </div>
        </div>
        <div class="step scroll-reveal">
          <div class="step-line"><div class="step-num">02</div><div class="step-connector"></div></div>
          <div class="step-body">
            <div class="step-title">Configure Robot Size</div>
            <div class="step-desc">Enter your robot's <strong>Width</strong> and <strong>Length</strong> in inches via the Vehicle Size panel in the sidebar. These values control the simulated robot rectangle.</div>
            <div class="step-note">FLL robots must fit within the 12"Ã—12" starting square â€” use your robot's actual dimensions for accurate path previewing.</div>
          </div>
        </div>
        <div class="step scroll-reveal">
          <div class="step-line"><div class="step-num">03</div><div class="step-connector"></div></div>
          <div class="step-body">
            <div class="step-title">Place Waypoints</div>
            <div class="step-desc">Click grid cells to drop waypoints. Each point connects to the next with a blue line. Segment distances in inches appear as floating midpoint labels.</div>
            <div class="step-note">Click an existing point to remove it. Points connect in the order they were placed.</div>
          </div>
        </div>
        <div class="step scroll-reveal">
          <div class="step-line"><div class="step-num">04</div><div class="step-connector"></div></div>
          <div class="step-body">
            <div class="step-title">Edit Points in the Sidebar</div>
            <div class="step-desc">Each point appears with editable <code>x</code>, <code>y</code>, and <code>hÂ°</code> fields. Enter exact values and press Enter â€” the canvas updates immediately.</div>
          </div>
        </div>
        <div class="step scroll-reveal">
          <div class="step-line"><div class="step-num">05</div><div class="step-connector"></div></div>
          <div class="step-body">
            <div class="step-title">Set Headings</div>
            <div class="step-desc">The <code>hÂ°</code> field at each waypoint sets the robot's facing direction in degrees. A yellow arrow renders on canvas. <code>0Â°</code> = right (East), <code>90Â°</code> = up (North).</div>
          </div>
        </div>
        <div class="step scroll-reveal">
          <div class="step-line"><div class="step-num">06</div><div class="step-connector"></div></div>
          <div class="step-body">
            <div class="step-title">Run the Simulation</div>
            <div class="step-desc">Press Play to animate the robot along the path. Use the progress slider to scrub to any position. Adjust speed from <code>0.5Ã—</code> to <code>4Ã—</code>. Live heading and position update each frame.</div>
          </div>
        </div>
        <div class="step scroll-reveal">
          <div class="step-line"><div class="step-num">07</div></div>
          <div class="step-body">
            <div class="step-title">Save Your Path</div>
            <div class="step-desc">Click Save File to download <code>alliedpath.html</code> with all waypoints embedded. Reopen the file at any time or share it with teammates.</div>
          </div>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- REFERENCE -->
    <div class="section-wrap scroll-reveal" id="reference">
      <div class="section-tag">03 â€” Reference</div>
      <h2 class="section-title">Field <span style="color:var(--blue)">Reference</span></h2>
      <p class="section-desc"><strong style="color:var(--blue-bright)">(0, 0)</strong> sits at the bottom-left corner of the field. X increases rightward, Y increases upward. One cell = one inch.</p>

      <div class="ref-table scroll-reveal">
        <div class="ref-row header">
          <div class="ref-label">Property</div>
          <div class="ref-label">Value</div>
          <div class="ref-label">Notes</div>
        </div>
        <div class="ref-row"><div class="ref-field">Grid Width</div><div><span class="ref-type">93 in</span></div><div class="ref-note">X axis â€” 0 to 92 inches</div></div>
        <div class="ref-row"><div class="ref-field">Grid Height</div><div><span class="ref-type">45 in</span></div><div class="ref-note">Y axis â€” 0 to 44 inches</div></div>
        <div class="ref-row"><div class="ref-field">Cell Size</div><div><span class="ref-type">1 in / cell</span></div><div class="ref-note">Direct 1:1 inch mapping</div></div>
        <div class="ref-row"><div class="ref-field">Origin</div><div><span class="ref-type">Bottom-Left</span></div><div class="ref-note">Standard math coordinate convention</div></div>
        <div class="ref-row"><div class="ref-field">Heading 0Â°</div><div><span class="ref-type">East / Right</span></div><div class="ref-note">Counter-clockwise positive</div></div>
        <div class="ref-row"><div class="ref-field">Heading 90Â°</div><div><span class="ref-type">North / Up</span></div><div class="ref-note">Toward increasing Y</div></div>
        <div class="ref-row"><div class="ref-field">Heading 180Â°</div><div><span class="ref-type">West / Left</span></div><div class="ref-note">Toward decreasing X</div></div>
        <div class="ref-row"><div class="ref-field">Turn angles</div><div><span class="ref-type">Signed Â°</span></div><div class="ref-note">Positive = left turn, Negative = right turn</div></div>
        <div class="ref-row"><div class="ref-field">Segment Distance</div><div><span class="ref-type">Euclidean in</span></div><div class="ref-note">Straight-line distance between consecutive waypoints</div></div>
      </div>

      <div style="margin-top:2.5rem">
        <div class="section-tag" style="margin-bottom:1rem">Sidebar Input Fields</div>
        <div class="ref-table scroll-reveal">
          <div class="ref-row header">
            <div class="ref-label">Field</div>
            <div class="ref-label">Type</div>
            <div class="ref-label">Description</div>
          </div>
          <div class="ref-row"><div class="ref-field">x</div><div><span class="ref-type">integer, 0â€“92</span></div><div class="ref-note">Horizontal position in inches from the left edge</div></div>
          <div class="ref-row"><div class="ref-field">y</div><div><span class="ref-type">integer, 0â€“44</span></div><div class="ref-note">Vertical position in inches from the bottom edge</div></div>
          <div class="ref-row"><div class="ref-field">hÂ°</div><div><span class="ref-type">float, degrees</span></div><div class="ref-note">Robot heading at this waypoint â€” 0Â°=right, 90Â°=up, 180Â°=left, 270Â°=down</div></div>
          <div class="ref-row"><div class="ref-field">Width</div><div><span class="ref-type">integer, inches</span></div><div class="ref-note">Robot rectangle short-side dimension in inches</div></div>
          <div class="ref-row"><div class="ref-field">Length</div><div><span class="ref-type">integer, inches</span></div><div class="ref-note">Robot rectangle long-side dimension in inches</div></div>
        </div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- PLAYBACK -->
    <div class="section-wrap scroll-reveal" id="playback">
      <div class="section-tag">04 â€” Playback</div>
      <h2 class="section-title">Simulation <span style="color:var(--blue)">Controls</span></h2>
      <p class="section-desc">All playback controls activate once two or more waypoints have been placed.</p>

      <div class="pb-grid scroll-reveal">
        <div class="pb-card"><div class="pb-name">Play / Pause</div><div class="pb-desc">Starts or pauses the robot animation along the path. If playback has ended, pressing Play restarts from the beginning.</div></div>
        <div class="pb-card"><div class="pb-name">Speed Selector</div><div class="pb-desc">Set playback speed to <code>0.5Ã—</code>, <code>1Ã—</code>, <code>2Ã—</code>, or <code>4Ã—</code> to preview fast or precise run timings.</div></div>
        <div class="pb-card"><div class="pb-name">Progress Slider</div><div class="pb-desc">Scrub the robot to any point along the path during playback or while paused. Displays percent completion.</div></div>
        <div class="pb-card"><div class="pb-name">Live Heading</div><div class="pb-desc">Displays the robot's current heading in degrees, derived from the current path segment direction.</div></div>
        <div class="pb-card"><div class="pb-name">Live Position</div><div class="pb-desc">Shows the interpolated robot position as <code>(x", y")</code> in real inch coordinates, updated every animation frame.</div></div>
        <div class="pb-card"><div class="pb-name">Segment Labels</div><div class="pb-desc">Each path segment displays its straight-line length in inches as a rotated midpoint label following the line.</div></div>
      </div>
    </div>

    <div class="divider"></div>

    <!-- TEAM -->
    <div class="section-wrap scroll-reveal" id="team">
      <div class="section-tag">05 â€” Team</div>
      <div class="team-hero">
        <div class="team-inner">
          <div class="team-badge">
            <div class="team-badge-name">ALLIED ALGORITHMS</div>
            <div class="team-badge-num">#58590</div>
          </div>
          <div class="team-title">
            <div class="a">BUILT FOR</div>
            <div class="b">CHAMPIONS</div>
          </div>
          <p class="team-desc">
            Team Allied Algorithms is a FIRST LEGO League team based in Connecticut.
            In the 2025â€“2026 season we placed <strong style="color:var(--gold)">1st at the CT State Championship</strong>
            and qualified for the <strong style="color:var(--gold)">FLL World Championship</strong>.
            AlliedPath was built by our software division to give every team member a precise visual of our autonomous strategy.
          </p>
          <div class="trophies">
            <div class="trophy">
              <div class="trophy-val">1st</div>
              <div class="trophy-lbl">CT State Championship</div>
            </div>
            <div class="trophy">
              <div class="trophy-val">Worlds</div>
              <div class="trophy-lbl">World Championship Qualifier</div>
            </div>
            <div class="trophy">
              <div class="trophy-val">FLL</div>
              <div class="trophy-lbl">FIRST Lego League Â· 2025â€“2026</div>
            </div>
          </div>
          <a href="https://alliedalgos.org" target="_blank" class="team-url">alliedalgos.org â†—</a>
          <div class="team-season">FLL Season 2025â€“2026 Â· Connecticut Â· Team #58590</div>
        </div>
      </div>
    </div>

  </main>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-logo"><span class="a">ALLIED</span><span class="b">PATH</span></div>
  <div class="footer-sub">Team Allied Algorithms #58590 Â· FLL 2025â€“2026 Â· Connecticut</div>
  <a href="https://alliedalgos.org" target="_blank" class="footer-link">alliedalgos.org â†—</a>
</footer>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• JS â•â• -->
<script>
// â”€â”€ HERO CANVAS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const heroCanvas = document.getElementById('hero-canvas');
const hCtx = heroCanvas.getContext('2d');
let W, H;
function resizeHero() {
  W = heroCanvas.width  = window.innerWidth;
  H = heroCanvas.height = heroCanvas.parentElement.offsetHeight;
}
resizeHero();
window.addEventListener('resize', resizeHero);

const NUM = 7;
const pts = Array.from({length:NUM}, () => ({
  x:Math.random()*window.innerWidth,
  y:Math.random()*600+80,
  ang:Math.random()*Math.PI*2,
  spd:0.35+Math.random()*0.35
}));

let scanY = 0;
function drawHero() {
  hCtx.clearRect(0, 0, W, H);
  const cs = 30;
  hCtx.strokeStyle = 'rgba(59,158,255,0.1)';
  hCtx.lineWidth = 0.5;
  for (let x=0;x<W;x+=cs){hCtx.beginPath();hCtx.moveTo(x,0);hCtx.lineTo(x,H);hCtx.stroke();}
  for (let y=0;y<H;y+=cs){hCtx.beginPath();hCtx.moveTo(0,y);hCtx.lineTo(W,y);hCtx.stroke();}
  pts.forEach(p=>{
    p.x+=Math.cos(p.ang)*p.spd; p.y+=Math.sin(p.ang)*p.spd;
    if(p.x<0||p.x>W){p.ang=Math.PI-p.ang;p.x=Math.max(0,Math.min(W,p.x));}
    if(p.y<0||p.y>H){p.ang=-p.ang;p.y=Math.max(0,Math.min(H,p.y));}
  });
  for(let i=0;i<NUM-1;i++){
    const a=pts[i],b=pts[i+1];
    const d=Math.hypot(b.x-a.x,b.y-a.y);
    const alpha=Math.max(0,1-d/500)*0.5;
    hCtx.beginPath();hCtx.strokeStyle=`rgba(59,158,255,${alpha})`;
    hCtx.lineWidth=1.5;hCtx.shadowColor='rgba(59,158,255,0.3)';hCtx.shadowBlur=6;
    hCtx.moveTo(a.x,a.y);hCtx.lineTo(b.x,b.y);hCtx.stroke();hCtx.shadowBlur=0;
  }
  pts.forEach(p=>{
    hCtx.fillStyle='rgba(59,158,255,0.7)';
    hCtx.shadowColor='rgba(59,158,255,0.6)';hCtx.shadowBlur=9;
    hCtx.fillRect(p.x-4,p.y-4,8,8);hCtx.shadowBlur=0;
  });
  scanY=(scanY+0.55)%(H+60);
  const sg=hCtx.createLinearGradient(0,scanY-28,0,scanY+28);
  sg.addColorStop(0,'transparent');sg.addColorStop(.5,'rgba(59,158,255,0.04)');sg.addColorStop(1,'transparent');
  hCtx.fillStyle=sg;hCtx.fillRect(0,scanY-28,W,56);
  requestAnimationFrame(drawHero);
}
drawHero();

// â”€â”€ SIDEBAR: show after scrolling past hero â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const hero = document.getElementById('hero');
const sidebar = document.getElementById('doc-sidebar');
const heroObs = new IntersectionObserver(entries => {
  entries.forEach(e => {
    sidebar.classList.toggle('visible', !e.isIntersecting);
  });
}, { threshold: 0.1 });
heroObs.observe(hero);

// â”€â”€ SIDEBAR: toggle dropdowns â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
document.querySelectorAll('.sb-toggle').forEach(btn => {
  btn.addEventListener('click', () => {
    const target = document.getElementById(btn.dataset.target);
    const isOpen = target.classList.contains('open');
    target.classList.toggle('open', !isOpen);
    btn.classList.toggle('open', !isOpen);
  });
});

// â”€â”€ SIDEBAR: active link on scroll â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const sections = ['overview','getting-started','reference','playback','team'];
const sbLinks = document.querySelectorAll('.sb-link[href^="#"]');
const sectionObs = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      sbLinks.forEach(l => l.classList.remove('active'));
      const id = e.target.id;
      sbLinks.forEach(l => { if (l.getAttribute('href') === `#${id}`) l.classList.add('active'); });
    }
  });
}, { threshold: 0.3, rootMargin: '-60px 0px -40% 0px' });
sections.forEach(id => {
  const el = document.getElementById(id);
  if (el) sectionObs.observe(el);
});

// â”€â”€ SEARCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const searchData = [
  { title:'Waypoint Plotting', desc:'Click cells to place waypoints on the grid.', section:'Overview', anchor:'#overview' },
  { title:'Inch-Accurate Grid', desc:'Each cell equals one inch. Maps 1:1 to the FLL mat.', section:'Overview', anchor:'#overview' },
  { title:'Turn Angles', desc:'Signed degree values shown at every intermediate waypoint.', section:'Overview', anchor:'#overview' },
  { title:'Per-Point Headings', desc:'Each waypoint stores a heading (hÂ°) shown as a yellow arrow.', section:'Overview', anchor:'#overview' },
  { title:'Robot Simulation', desc:'Animated rectangle follows the path, rotates to match heading.', section:'Overview', anchor:'#overview' },
  { title:'Save & Share', desc:'Download a self-contained HTML file with all points embedded.', section:'Overview', anchor:'#overview' },
  { title:'Open the Tool', desc:'Navigate to path.alliedalgos.org or open alliedpath.html locally.', section:'Guide', anchor:'#getting-started' },
  { title:'Configure Robot Size', desc:'Set width and length in inches via the Vehicle Size panel.', section:'Guide', anchor:'#getting-started' },
  { title:'Place Waypoints', desc:'Click grid cells. Distances shown as floating labels.', section:'Guide', anchor:'#getting-started' },
  { title:'Edit Points', desc:'Use the sidebar x, y, hÂ° fields to edit waypoints precisely.', section:'Guide', anchor:'#getting-started' },
  { title:'Set Headings', desc:'hÂ° sets robot facing. 0Â°=right, 90Â°=up, 180Â°=left, 270Â°=down.', section:'Guide', anchor:'#getting-started' },
  { title:'Save Your Path', desc:'Save File downloads alliedpath.html with all waypoints baked in.', section:'Guide', anchor:'#getting-started' },
  { title:'Grid Width', desc:'93 inches. X axis from 0 to 92.', section:'Reference', anchor:'#reference' },
  { title:'Grid Height', desc:'45 inches. Y axis from 0 to 44.', section:'Reference', anchor:'#reference' },
  { title:'Coordinate Origin', desc:'(0,0) is at the bottom-left corner of the field.', section:'Reference', anchor:'#reference' },
  { title:'Heading Convention', desc:'0Â°=East/Right, 90Â°=North/Up, counter-clockwise positive.', section:'Reference', anchor:'#reference' },
  { title:'x field', desc:'Horizontal inch position of the waypoint, 0 to 92.', section:'Reference', anchor:'#reference' },
  { title:'y field', desc:'Vertical inch position of the waypoint, 0 to 44.', section:'Reference', anchor:'#reference' },
  { title:'hÂ° field', desc:'Heading angle in degrees at a given waypoint.', section:'Reference', anchor:'#reference' },
  { title:'Play / Pause', desc:'Start or pause the robot simulation animation.', section:'Playback', anchor:'#playback' },
  { title:'Progress Slider', desc:'Scrub the robot to any position along the path.', section:'Playback', anchor:'#playback' },
  { title:'Speed Selector', desc:'0.5Ã—, 1Ã—, 2Ã—, or 4Ã— playback speed.', section:'Playback', anchor:'#playback' },
  { title:'Live Heading', desc:'Current robot heading in degrees during playback.', section:'Playback', anchor:'#playback' },
  { title:'Live Position', desc:'Real-time (x", y") position updated every frame.', section:'Playback', anchor:'#playback' },
  { title:'Segment Labels', desc:'Inch distance shown at the midpoint of each segment.', section:'Playback', anchor:'#playback' },
  { title:'Allied Algorithms', desc:'FLL Team #58590 from Connecticut.', section:'Team', anchor:'#team' },
  { title:'CT State Championship', desc:'1st place at the Connecticut State Championship 2025â€“2026.', section:'Team', anchor:'#team' },
  { title:'World Championship', desc:'Qualified for the FLL World Championship.', section:'Team', anchor:'#team' },
  { title:'alliedalgos.org', desc:'Team website.', section:'Team', anchor:'#team' },
];

function highlight(text, query) {
  if (!query) return text;
  const re = new RegExp(`(${query.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')})`, 'gi');
  return text.replace(re, '<span class="sr-highlight">$1</span>');
}

const searchInput = document.getElementById('search-input');
const searchResults = document.getElementById('search-results');

searchInput.addEventListener('input', () => {
  const q = searchInput.value.trim().toLowerCase();
  searchResults.innerHTML = '';
  if (!q) { searchResults.classList.remove('visible'); return; }

  const matches = searchData.filter(d =>
    d.title.toLowerCase().includes(q) || d.desc.toLowerCase().includes(q) || d.section.toLowerCase().includes(q)
  ).slice(0, 8);

  if (!matches.length) {
    searchResults.innerHTML = '<div class="sr-empty">No results found.</div>';
  } else {
    matches.forEach(m => {
      const item = document.createElement('div');
      item.className = 'sr-item';
      item.innerHTML = `
        <div class="sr-item-title">${highlight(m.title, q)}</div>
        <div class="sr-item-desc">${highlight(m.desc, q)}</div>
        <span class="sr-item-tag">${m.section}</span>
      `;
      item.addEventListener('click', () => {
        document.querySelector(m.anchor)?.scrollIntoView({behavior:'smooth'});
        searchResults.classList.remove('visible');
        searchInput.value = '';
      });
      searchResults.appendChild(item);
    });
  }
  searchResults.classList.add('visible');
});

document.addEventListener('click', e => {
  if (!document.getElementById('search-wrap').contains(e.target)) {
    searchResults.classList.remove('visible');
  }
});
searchInput.addEventListener('keydown', e => {
  if (e.key === 'Escape') { searchResults.classList.remove('visible'); searchInput.value = ''; }
});

// â”€â”€ HAMBURGER / MOBILE MENU â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const hamburger = document.getElementById('hamburger');
const mobileDrawer = document.getElementById('mobile-drawer');

hamburger.addEventListener('click', () => {
  const isOpen = mobileDrawer.classList.contains('open');
  mobileDrawer.classList.toggle('open', !isOpen);
  hamburger.classList.toggle('open', !isOpen);
  document.body.style.overflow = isOpen ? '' : 'hidden';
});

function closeMobileMenu() {
  mobileDrawer.classList.remove('open');
  hamburger.classList.remove('open');
  document.body.style.overflow = '';
}

// â”€â”€ BOTTOM NAV ACTIVE STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const bnavItems = document.querySelectorAll('.bnav-item[data-section]');
const bnavObs = new IntersectionObserver(entries => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      bnavItems.forEach(b => b.classList.remove('active'));
      const id = e.target.id;
      bnavItems.forEach(b => { if (b.dataset.section === id) b.classList.add('active'); });
    }
  });
}, { threshold: 0.4 });
['overview','getting-started','reference','playback','team'].forEach(id => {
  const el = document.getElementById(id);
  if (el) bnavObs.observe(el);
});

// â”€â”€ SCROLL REVEAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const reveals = document.querySelectorAll('.scroll-reveal');
const revObs = new IntersectionObserver(entries => {
  entries.forEach(e => { if(e.isIntersecting){e.target.classList.add('visible');revObs.unobserve(e.target);} });
}, { threshold: 0.08 });
reveals.forEach(el => revObs.observe(el));
</script>
<!-- Bottom Nav (mobile only) -->
<nav id="bottom-nav">
  <a class="bnav-item active" href="#overview" data-section="overview">
    <span class="bnav-icon">âŠ</span>
    <span class="bnav-label">Overview</span>
  </a>
  <a class="bnav-item" href="#getting-started" data-section="getting-started">
    <span class="bnav-icon">â–¶</span>
    <span class="bnav-label">Guide</span>
  </a>
  <a class="bnav-item" href="#reference" data-section="reference">
    <span class="bnav-icon">ğŸ“</span>
    <span class="bnav-label">Ref</span>
  </a>
  <a class="bnav-item" href="#playback" data-section="playback">
    <span class="bnav-icon">âµ</span>
    <span class="bnav-label">Play</span>
  </a>
  <a class="bnav-item" href="#team" data-section="team">
    <span class="bnav-icon">ğŸ†</span>
    <span class="bnav-label">Team</span>
  </a>
</nav>

</body>
</html>
